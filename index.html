<!DOCTYPE html>
<html lang="en">

<head>
    <title>TPEN Interfaces</title>
    <meta charset="UTF-8">
    <link href="favicon.ico" rel="icon" type="image/x-icon" />
    <script src="TPEN/index.mjs" type="module"></script>
    <script src="components/projects-list/index.mjs" type="module"></script>
</head>

<body>
    <h1>TPEN Interfaces</h1>
    <p>No style, no flash, just proof-of-life.</p>

    <button type="button" id="login">Login</button>

    <tpen-projects-list></tpen-projects-list>
    
    <div id="profile" require-auth="true"></div>

    <script>
        document.addEventListener('tpen-loaded', function () {
            if (TPEN.getAuthorization()) {
                login.TPEN = new TPEN()
                TPEN.attachAuthentication(login)
                login.addEventListener('tpen-authenticated', function () {
                    login.innerText = login.TPEN.currentUser.profile.displayName
                })
            } else {
                login.addEventListener('click', TPEN.login)
            }
        })
    </script>
</body>

</html>
